<!--
  @description       : This 
  @author            : Manikumar Meruva(Girikon Solutions Pvt Ltd)
  @UI author         : Mani
  @last modified on  : 05-05-2023
  @last modified by  : Sibi Sathyan
  Modifications Log 
  Ver   Date         Author         Modification
  1.0   18-08-2021   Manikumar      Initial Version
-->
<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" controller="ParticipantResultsController" >
    <aura:attribute name="gameNames" type="List"  access="global" />
    <aura:attribute name="results_text" type="String" default = "Welcome to your personal MindCrowd results page" access="global" />
    <aura:attribute name="results_text_1" type="String" default = "The gauges below show your results. The first gauge is your personal result. The second gauge shows results for people like you. The third gauge is the average for all MindCrowd participants." access="global" />
    <aura:attribute name="results_text_2" type="String" default = "Gauges update as more people participate in MindCrowd. You can come back and see your results at any time." access="global" />
    <aura:attribute name="results_text_3" type="String" default = "Gauges represent the percent correct for the game, except for the React game, which shows your speed in milliseconds." access="global" />
    <aura:attribute name="results_text_4" type="String" default = "Remember that these games are not designed to predict your future for brain problems or disease. Some people are good at certain games but not at others â€“ that is normal. Each game you finish helps to give a more complete picture of your brain performance. Keep playing the games and you may find the ones that you are best at." access="global" />
    <aura:attribute name="nooftabs" type="Integer" default = "0" />
    <aura:attribute name="Facebook_text" type="Boolean" default="false" access="global" />
    <aura:attribute name="Twitter_text" type="Boolean" default="false" access="global" />
    <aura:attribute name="showCharts" type="Boolean" default="false" access="global" />
    <aura:attribute name="resultMap" type="Object" access="global" />
    <aura:attribute name="reactChart" type="Boolean" default="true" access="global" />
    <aura:attribute name="objectChart" type="Boolean" default="true" access="global" />
    <aura:attribute name="graphtitle" type="String" default="{!$Label.c.graphtitle}" />
    <aura:attribute name="AttemptLabel" type="String" default="{!$Label.c.AttemptLabel}" />
    <aura:attribute name="LastAttemptLabel" type="String" default="{!$Label.c.LastAttemptLabel}" />
    <aura:attribute name="attempts" type="Integer" default="0" />
   <!-- <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>-->    
    <!-- <h1 class=" text-center marginT30"><p class="title">{!$Label.c.paired_game_results_text1}</p> </h1> -->
    <lightning:tabset>       
        <lightning:tab label="{!v.graphtitle}" class="tab"> 
            <div class="l-title text-center text-normal">{!v.results_text}</div>          
            <p>{!$Label.c.Longitudinal_Desc}</p>
            <!--<lightning:icon title="{!v.graphtitle}" iconName="utility:chart"/>-->
            <lightning:layout>
                <lightning:layoutItem size="12" smallDeviceSize="12" >
            <c:longitudinalGraph onpassvalue="{!c.handleValuePass}"></c:longitudinalGraph>
            <c:longitudinalGraph reactChart="{!v.reactChart}"></c:longitudinalGraph> 
        </lightning:layoutItem>
        </lightning:layout>
            <!--<c:longitudinalGraph objectChart="{!v.objectChart}"></c:longitudinalGraph>-->               
        </lightning:tab>
        <aura:iteration items="{!v.resultMap}" var="item" indexVar="index">
            <lightning:tab label="{!v.AttemptLabel+' '+(v.attempts-index)}" class="tab">
                <div class="l-title text-center text-normal">{!v.results_text}</div>
                <p>{!v.results_text_1}</p>
                <p>{!v.results_text_2}</p>
                <p>{!v.results_text_3}</p>
                <p>{!v.results_text_4}</p>
                 <lightning:layout multipleRows="true">        
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_verbalPairedAssociates}"  
                                                                gameDesc1="{!$Label.c.Expan_wordpair_game_user_text_1}" gameDesc2="{!$Label.c.Expan_wordpair_game_user_text_2}"                                  
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.Expan_game_user_text_2}" 
                                                                lValue="{!item.wordpairs.LowAverage}" hValue="{!item.wordpairs.HighAverage}" mValue="{!item.wordpairs.MaxValue}"
	                                                            correctAnswers="{!item.wordpairs.CorrectAnswers}" peopleLikeYou="{!item.wordpairs.PeopleLikeYou}" 
                                                                overallAverage="{!item.wordpairs.overallAverage}"  isGamePlayed="{!item.wordpairs.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_dearySimpleAndComplexReactionTime}" 
                                                                gameDesc1="{!$Label.c.Expan_react_game_user_text_1}" gameDesc2="{!$Label.c.Expan_react_game_user_text_2}"
                                                                isScoreReactionTime="true" gameTitle="{!$Label.c.Expan_game_user_text_1}"
                                                                lValue="{!item.react.LowAverage}" hValue="{!item.react.HighAverage}" mValue="{!item.react.MaxValue}"
	                                                            reactionTime="{!item.react.ReactionTime}" peopleLikeYou="{!item.react.PeopleLikeYou}" 
                                                                overallAverage="{!item.react.overallAverage}"  isGamePlayed="{!item.react.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_objectRecognitionAndSimilarity}" 
                                                                gameDesc1="{!$Label.c.Expan_objects_game_user_text_1}" gameDesc2="{!$Label.c.Expan_objects_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.Expan_game_user_text_6}"
                                                                lValue="{!item.shapes.LowAverage}" hValue="{!item.shapes.HighAverage}" mValue="{!item.shapes.MaxValue}"
	                                                            correctAnswers="{!item.shapes.CorrectAnswers}" peopleLikeYou="{!item.shapes.PeopleLikeYou}" 
                                                                overallAverage="{!item.shapes.overallAverage}"  isGamePlayed="{!item.shapes.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <!--ALREADY COMMENTED-DON'T UNCOMMENT -Sibi <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="Object Discrimination" 
                                                                gameDesc1="{!$Label.c.Expan_shapes_game_user_text_1}" gameDesc2="{!$Label.c.Expan_shapes_game_user_text_2}"
                                                                isScoreReactionTime="false" gameTitle="{!$Label.c.Expan_game_user_text_6}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem> -->
                    
                    
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_flanker}" 
                                                                gameDesc1="{!$Label.c.Expan_focus_game_user_text_1}" gameDesc2="{!$Label.c.Expan_focus_game_user_text_2}"
                                                                isScoreReactionTime="false" gameTitle="{!$Label.c.Expan_game_user_text_4}"
                                                                lValue="{!item.flanker.LowAverage}" hValue="{!item.flanker.HighAverage}" mValue="{!item.flanker.MaxValue}"
	                                                            correctAnswers="{!item.flanker.CorrectAnswers}" peopleLikeYou="{!item.flanker.PeopleLikeYou}" 
                                                                overallAverage="{!item.flanker.overallAverage}"  isGamePlayed="{!item.flanker.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_faceNameAssociates}"
                                                                gameDesc1="{!$Label.c.Expan_names_faces_game_user_text_1}" gameDesc2="{!$Label.c.Expan_names_faces_game_user_text_2}"
                                                                isScoreReactionTime="false" gameTitle="{!$Label.c.Expan_game_user_text_3}"
                                                                lValue="{!item.facename.LowAverage}" hValue="{!item.facename.HighAverage}" mValue="{!item.facename.MaxValue}"
	                                                            correctAnswers="{!item.facename.CorrectAnswers}" peopleLikeYou="{!item.facename.PeopleLikeYou}" 
                                                                overallAverage="{!item.facename.overallAverage}"  isGamePlayed="{!item.facename.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem> 
                    <lightning:layoutItem class="remove-Padding" size ="12"> 
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_letterNumberSequencing}" 
                                                                gameDesc1="{!$Label.c.Expan_switching_game_user_text_1}" gameDesc2="{!$Label.c.Expan_switching_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.Expan_game_user_text_5}"
                                                                lValue="{!item.switching.LowAverage}" hValue="{!item.switching.HighAverage}" mValue="{!item.switching.MaxValue}"
	                                                            correctAnswers="{!item.switching.CorrectAnswers}" peopleLikeYou="{!item.switching.PeopleLikeYou}" 
                                                                overallAverage="{!item.switching.overallAverage}"  isGamePlayed="{!item.switching.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_keepTrack}" 
                                                                gameDesc1="{!$Label.c.Expan_keeptrack_game_user_text_1}" gameDesc2="{!$Label.c.Expan_keeptrack_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.Expan_game_user_text_8}" 
                                                                lValue="{!item.keeptrack.LowAverage}" hValue="{!item.keeptrack.HighAverage}" mValue="{!item.keeptrack.MaxValue}"
	                                                            correctAnswers="{!item.keeptrack.CorrectAnswers}" peopleLikeYou="{!item.keeptrack.PeopleLikeYou}" 
                                                                overallAverage="{!item.keeptrack.overallAverage}"  isGamePlayed="{!item.keeptrack.isGamePlayed}">></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <!-- object games -->
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_objectDiscrimination}" 
                                                                gameDesc1="{!$Label.c.Expan_objects_game_user_text_1}" gameDesc2="{!$Label.c.Expan_objects_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.game_name_8}"
                                                                lValue="{!item.objects.LowAverage}" hValue="{!item.objects.HighAverage}" mValue="{!item.objects.MaxValue}"
	                                                            correctAnswers="{!item.objects.CorrectAnswers}" peopleLikeYou="{!item.objects.PeopleLikeYou}" 
                                                                overallAverage="{!item.objects.overallAverage}"  isGamePlayed="{!item.objects.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_objectTemporal}" 
                                                                gameDesc1="{!$Label.c.Expan_objects_game_user_text_1}" gameDesc2="{!$Label.c.Expan_objects_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.game_name_9}"
                                                                lValue="{!item.objecttime.LowAverage}" hValue="{!item.objecttime.HighAverage}" mValue="{!item.objecttime.MaxValue}"
	                                                            correctAnswers="{!item.objecttime.CorrectAnswers}" peopleLikeYou="{!item.objecttime.PeopleLikeYou}" 
                                                                overallAverage="{!item.objecttime.overallAverage}"  isGamePlayed="{!item.objecttime.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>
                    <lightning:layoutItem class="remove-Padding" size ="12">
                        <c:ParticipantLoggedInUserGameDashboard gameName ="{!$Label.c.scientific_game_objectSpatial}" 
                                                                gameDesc1="{!$Label.c.Expan_objects_game_user_text_1}" gameDesc2="{!$Label.c.Expan_objects_game_user_text_2}"
                                                                isScoreReactionTime="false"  gameTitle="{!$Label.c.game_name_10}"
                                                                lValue="{!item.objectspace.LowAverage}" hValue="{!item.objectspace.HighAverage}" mValue="{!item.objectspace.MaxValue}"
	                                                            correctAnswers="{!item.objectspace.CorrectAnswers}" peopleLikeYou="{!item.objectspace.PeopleLikeYou}" 
                                                                overallAverage="{!item.objectspace.overallAverage}"  isGamePlayed="{!item.objectspace.isGamePlayed}"></c:ParticipantLoggedInUserGameDashboard>
                    </lightning:layoutItem>            
                </lightning:layout>
            </lightning:tab>
        </aura:iteration>
    </lightning:tabset>
</aura:component>