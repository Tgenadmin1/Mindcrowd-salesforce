<template>
    <template if:true={showLoadingSpinner}>
       <div style="z-index: 10000 !important;">
          <lightning-spinner alternative-text="Uploading..." size="medium" style="z-index: 10000 !important;"></lightning-spinner>
       </div>
    </template>
    <!-- <lightning-card title="Upload CSV File"  > -->
      <div class="mainCrowd-inner-box">
         <div class="inner-title">Batch Upload of APOE Genotype Results</div>
         <p>Use this page to upload a batch of APOE genotype results.</p>
         <ul class="number-list">
            <li>Click on the  <a  class="text-underlin" download="SampleCsvFile" target="_blank" href="/resource/SampleCsvFile">
               Sample CSV File
             </a>  to download a template that should be used for uploading.
               <!-- <a target="_self" class="slds-button slds-button_brand" download="SampleDataToUploadFile.csv" href={hrefdata} onclick={exportToCSV}>
               Sample CSV File
            </a>   -->
              
            </li>
            <li>In the downloaded template file, fill in the sample ID and each respective APOE genotype.</li>
            <li>Click on the "Upload File" button.</li>
            <!-- or simply drag and drop it into this window. -->
        </ul>
         <div class="slds-grid j-center mt-30" >
            <div class="">
               
                  <!-- <lightning-input label="" class="fileupload-btn" name="file uploader" accept={acceptedCSVNdxlsxFormats}  onchange = {handleFilesChange} type="file" multiple="false" ></lightning-input> -->
               
               
               <div class="slds-form-element fileupload " >
                  <div class="slds-form-element__control">
                    <div class="slds-file-selector slds-file-selector_files">
                      <div class="slds-file-selector__dropzone">
                        <input type="file" class="slds-file-selector__input slds-assistive-text " accept={acceptedCSVNdxlsxFormats} id="file-upload-input-107" onchange = {handleFilesChange} aria-labelledby="file-selector-primary-label-105 file-selector-secondary-label106" />
                        <label class="slds-file-selector__body" for="file-upload-input-107" id="file-selector-secondary-label106">
                          <span class="slds-file-selector__button slds-button slds-button_brand">
                           <svg class="upload-btn-icon slds-icon slds-icon-text-default" focusable="false" data-key="upload" aria-hidden="true" viewBox="0 0 52 52"><g><g><path d="M48.5 31h-3c-.8 0-1.5.8-1.5 1.5v10c0 .8-.7 1.5-1.5 1.5h-33c-.8 0-1.5-.7-1.5-1.5v-10c0-.7-.7-1.5-1.5-1.5h-3c-.8 0-1.5.8-1.5 1.5V46c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V32.5c0-.7-.7-1.5-1.5-1.5z"></path><path d="M27 2.4c-.6-.6-1.5-.6-2.1 0L11.4 15.9c-.6.6-.6 1.5 0 2.1l2.1 2.1c.6.6 1.5.6 2.1 0l5.6-5.6c.6-.6 1.8-.2 1.8.7v21.2c0 .8.6 1.5 1.4 1.5h3c.8 0 1.6-.8 1.6-1.5V15.3c0-.9 1-1.3 1.7-.7l5.6 5.6c.6.6 1.5.6 2.1 0l2.1-2.1c.6-.6.6-1.5 0-2.1L27 2.4z"></path></g></g></svg>
                           Upload File</span>
                          <!-- <span class="slds-file-selector__text slds-medium-show">or Drop File</span> -->
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

            </div>

            
            <div class="button-box">
               <lightning-button  label="Submit" onclick={handleSave} variant="brand" disabled={isTrue}></lightning-button>&nbsp;&nbsp;
               <!-- <lightning-button  label="Cancel" variant="brand" type="cancel" onclick={handleCancel}></lightning-button>&nbsp;&nbsp; -->
               <!-- <a target="_self" class="slds-button slds-button_brand" download="SampleDataToUploadFile.csv" href={hrefdata} onclick={exportToCSV}>
                  <lightning-icon icon-name="utility:download" alternative-text="Sample Data!" title="Sample Data"></lightning-icon>
                  Sample CSV File
               </a>  -->

               <lightning-button-icon icon-name="utility:close" alternative-text="Back to Shipping Details"   variant="bare-inverse"  onclick={handleCancel} class="close-btn ">  
               </lightning-button-icon> 
            </div>

          
         </div>

         <!-- <div class="slds-form-element">
            <div class="slds-form-element__control">
              <div class="slds-file-selector slds-file-selector_files">
                <div class="slds-file-selector__dropzone">
                  <input type="file" class="slds-file-selector__input slds-assistive-text" accept={acceptedCSVNdxlsxFormats} id="file-upload-input-107" onchange = {handleFilesChange} aria-labelledby="file-selector-primary-label-105 file-selector-secondary-label106" />
                  <label class="slds-file-selector__body" for="file-upload-input-107" id="file-selector-secondary-label106">
                    <span class="slds-file-selector__button slds-button slds-button_neutral">
                     <svg class="upload-btn-icon slds-icon slds-icon-text-default" focusable="false" data-key="upload" aria-hidden="true" viewBox="0 0 52 52"><g><g><path d="M48.5 31h-3c-.8 0-1.5.8-1.5 1.5v10c0 .8-.7 1.5-1.5 1.5h-33c-.8 0-1.5-.7-1.5-1.5v-10c0-.7-.7-1.5-1.5-1.5h-3c-.8 0-1.5.8-1.5 1.5V46c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V32.5c0-.7-.7-1.5-1.5-1.5z"></path><path d="M27 2.4c-.6-.6-1.5-.6-2.1 0L11.4 15.9c-.6.6-.6 1.5 0 2.1l2.1 2.1c.6.6 1.5.6 2.1 0l5.6-5.6c.6-.6 1.8-.2 1.8.7v21.2c0 .8.6 1.5 1.4 1.5h3c.8 0 1.6-.8 1.6-1.5V15.3c0-.9 1-1.3 1.7-.7l5.6 5.6c.6.6 1.5.6 2.1 0l2.1-2.1c.6-.6.6-1.5 0-2.1L27 2.4z"></path></g></g></svg>
                     Upload File</span>
                    <span class="slds-file-selector__text slds-medium-show">or Drop File</span>
                  </label>
                </div>
              </div>
            </div>
          </div> -->



        
         <lightning-formatted-rich-text value={fileName} class="content" ></lightning-formatted-rich-text>
         <!-- <div class="content">{fileName}
         </div> -->
         <br/>
         <template if:true={visible}>
          <div style="position:absolute;top:1rem;left:1rem;right:1rem">
              <div class="slds-notify_container slds-is-relative">
                  <div class="slds-notify slds-notify_toast slds-theme_default slds-box slds-box_small" style="border-color:green;" role="success">
                  <div class="slds-align_absolute-center">
                      <h2 class="slds-text-heading_large" style="color:green;">Succeeded</h2>
                      <lightning-icon icon-name="utility:success" alternative-text="success" variant="Success" size="small" ></lightning-icon>
                  </div>
                  </div>
              </div>
          </div>
      </template>

      </div>

     

    
    <!-- </lightning-card> -->
 </template>